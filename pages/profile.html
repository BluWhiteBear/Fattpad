<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Fattpad | Profile</title>
        <link rel="icon" href="../img/fattpad_logo_1_no_text.png" type="image/png">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="../styles.css">
        <link rel="stylesheet" href="../styles/profile.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        <script src="../scripts/themeLoader.js"></script>
    </head>
    <body class="d-flex flex-column min-vh-100">
        <!-- Nav Bar -->
        <div id="navbar-container"></div>
        
        <main class="container-xl flex-grow-1 py-4">
            <!-- Profile Header -->
            <div class="bg-secondary rounded-3 p-4 mb-4 shadow">
                <div class="row align-items-center g-4">
                    <!-- Profile Avatar -->
                    <div class="col-auto">
                        <div class="position-relative">
                            <img id="profile-picture" src="../img/pfp-default.png" alt="Profile Picture" class="rounded-circle border border-4 border-danger" style="width: 120px; height: 120px; object-fit: cover;">
                            <button class="btn btn-danger position-absolute bottom-0 end-0 rounded-circle p-2" style="width: 36px; height: 36px;" title="Change Profile Picture">
                                <i class="fas fa-camera"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Profile Info -->
                    <div class="col">
                        <h1 id="profile-name" class="h2 text-light mb-2">Loading...</h1>
                        <p id="profile-email" class="text-muted mb-2"></p>
                        <p id="profile-bio" class="text-light mb-3">Welcome to my profile! I'm passionate about writing and sharing stories.</p>
                        <div class="profile-actions">
                            <button class="btn btn-outline-danger edit-profile-btn">Edit Profile</button>
                            <button class="btn btn-danger follow-btn" style="display: none;">
                                <i class="fas fa-plus"></i> Follow
                            </button>
                        </div>
                    </div>
                    
                    <!-- Profile Stats -->
                    <div class="col-12 col-lg-auto">
                        <div class="row text-center g-3">
                            <div class="col-3 col-lg-12 col-xl-3">
                                <div class="text-light">
                                    <div class="h4 mb-1">12</div>
                                    <small class="text-muted">Works</small>
                                </div>
                            </div>
                            <div class="col-3 col-lg-12 col-xl-3">
                                <div class="text-light">
                                    <div class="h4 mb-1">1.2K</div>
                                    <small class="text-muted">Followers</small>
                                </div>
                            </div>
                            <div class="col-3 col-lg-12 col-xl-3">
                                <div class="text-light">
                                    <div class="h4 mb-1">89</div>
                                    <small class="text-muted">Following</small>
                                </div>
                            </div>
                            <div class="col-3 col-lg-12 col-xl-3">
                                <div class="text-light">
                                    <div class="h4 mb-1">45K</div>
                                    <small class="text-muted">Reads</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Profile Content -->
            <div class="bg-secondary rounded-3 p-4 shadow">
                <!-- Bootstrap Tabs -->
                <ul class="nav nav-tabs nav-fill mb-4" id="profileTabs" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active text-light" id="works-tab" data-bs-toggle="tab" data-bs-target="#works" type="button" role="tab">My Works</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link text-light" id="reading-tab" data-bs-toggle="tab" data-bs-target="#reading" type="button" role="tab">Reading List</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link text-light" id="favorites-tab" data-bs-toggle="tab" data-bs-target="#favorites" type="button" role="tab">Favorites</button>
                    </li>
                </ul>
                
                <!-- Tab Content -->
                <div class="tab-content" id="profileTabsContent">
                    <!-- My Works Tab -->
                    <div class="tab-pane fade show active" id="works" role="tabpanel">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2 class="text-light mb-0">My Works</h2>
                        </div>
                        <div class="row g-4">
                            <!-- Dynamic works will be loaded here by JavaScript -->
                        </div>
                    </div>
                    
                    <!-- Reading List Tab -->
                    <div class="tab-pane fade" id="reading" role="tabpanel">
                        <h2 class="text-light mb-4">Currently Reading</h2>
                        <div class="list-group list-group-flush">
                            <div class="list-group-item bg-dark border-0 mb-3 rounded">
                                <h5 class="text-light mb-1">The Quantum Garden</h5>
                                <p class="text-muted mb-2">by Sarah Chen</p>
                                <div class="d-flex align-items-center gap-3">
                                    <div class="progress flex-grow-1" style="height: 6px;">
                                        <div class="progress-bar bg-danger" role="progressbar" style="width: 67%"></div>
                                    </div>
                                    <small class="text-muted">Chapter 12 of 18</small>
                                </div>
                            </div>
                            <div class="list-group-item bg-dark border-0 mb-3 rounded">
                                <h5 class="text-light mb-1">Echoes of Eternity</h5>
                                <p class="text-muted mb-2">by Marcus Blake</p>
                                <div class="d-flex align-items-center gap-3">
                                    <div class="progress flex-grow-1" style="height: 6px;">
                                        <div class="progress-bar bg-danger" role="progressbar" style="width: 23%"></div>
                                    </div>
                                    <small class="text-muted">Chapter 4 of 15</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Favorites Tab -->
                    <div class="tab-pane fade" id="favorites" role="tabpanel">
                        <h2 class="text-light mb-4">Favorite Works</h2>
                        <div class="row g-3">
                            <div class="col-12 col-md-6 col-lg-4">
                                <div class="card bg-dark border-0">
                                    <div class="card-body">
                                        <h5 class="card-title text-light mb-1">Stellar Horizons</h5>
                                        <p class="card-text text-muted mb-2">by Luna Rodriguez</p>
                                        <span class="badge bg-warning text-dark">★ 5.0</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-md-6 col-lg-4">
                                <div class="card bg-dark border-0">
                                    <div class="card-body">
                                        <h5 class="card-title text-light mb-1">The Silent Storm</h5>
                                        <p class="card-text text-muted mb-2">by David Park</p>
                                        <span class="badge bg-warning text-dark">★ 4.9</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <!-- Footer -->
        <div id="footer-container"></div>

        <!-- Scripts -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
        <script src="../scripts/popComponents.js"></script>
        <script type="module" src="../scripts/navAuth.js"></script>
        <script type="module" src="../scripts/profile.js"></script>
    </body>
</html>